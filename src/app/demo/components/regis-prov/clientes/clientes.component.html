<div class="stepsdemo-content">
    <p-card>
        <ng-template pTemplate="title">
            Principales clientes
        </ng-template>
        <ng-template pTemplate="subtitle">
            Ingrese sus principales clientes del ultimo año
        </ng-template>
        <ng-template pTemplate="content">
            <div class="field grid ">
                <div class="col-12 p-fluid">
                    <label for="nomRefPC" class="text-lg block">
                        Compañia
                    </label>
                    <input
                        id="nomRefPC"
                        type="text"
                        pInputText
                        [(ngModel)]="nuevoCliente.nomRefPc"
                    />
                </div>
            </div>
            <div class="field grid ">
                <div class="col-12 p-fluid">
                    <label for="contacRefPC" class="text-lg block">
                        Contacto
                    </label>
                    <p-inputMask
                        class="bg-primary"
                        id="contacRefPC"
                        mask="099 999 9999"
                        placeholder="099 999 9999"
                        [(ngModel)]="nuevoCliente.contacRefPc">
                    </p-inputMask>
                </div>
            </div>
            <div class="field grid">
                <div class="col-12 p-fluid">
                    <label for="emailRefPC" class="text-lg block">
                        E-mail
                    </label>
                    <input
                        id="emailRefPC"
                        type="text"
                        pInputText
                        [pKeyFilter]="blockSpace"
                        placeholder="xxxxxxxxx@ejemplo.com"
                        [(ngModel)]="nuevoCliente.emailRefPc"
                    />
                </div>
            </div>
            <div class="field grid ">
                <div class="col-4 p-fluid">
                    <label for="paisRefPC" class="text-lg block">
                        País
                    </label>
                    <p-autoComplete
                        field="name"
                        [dropdown]="true"
                        [(ngModel)]="paisRefPc"
                        [suggestions]="filteredCountries"
                        (completeMethod)="filterCountry($event)"
                        (onSelect)="filterState($event)">
                        <ng-template let-country pTemplate="item">
                            <div class="country-item">
                                <div>{{ country.name }}</div>
                            </div>
                        </ng-template>
                    </p-autoComplete>
                </div>
                <div class="col-4 p-fluid">
                    <label for="estadoRefPC" class="text-lg block">
                        Estado
                    </label>
                    <p-autoComplete
                        field="name"
                        [dropdown]="true"
                        [(ngModel)]="estadoRefPc"
                        [suggestions]="filteredStates"
                        (completeMethod)="filterState($event)"
                        (onSelect)="filterCity($event)">
                        <ng-template let-state pTemplate="item">
                            <div class="country-item">
                                <div>{{ state.name }}</div>
                            </div>
                        </ng-template>
                    </p-autoComplete>
                </div>
                <div class="col-4 p-fluid">
                    <label for="ciudadRefPC" class="text-lg block">
                        Ciudad
                    </label>
                    <p-autoComplete
                        field="name"
                        [dropdown]="true"
                        [(ngModel)]="ciudadRefPc"
                        [suggestions]="filteredCities"
                        (completeMethod)="filterCity($event)">
                        <ng-template let-city pTemplate="item">
                            <div class="country-item">
                                <div>{{ city.name }}</div>
                            </div>
                        </ng-template>
                    </p-autoComplete>
                </div>
            </div>

            <div class="field grid">
                <div class="col-12">
                    <button pButton type="button" (click)="agregarCampos()">
                        Agregar otro cliente
                    </button>
                </div>
            </div>
            <p-table [value]="clientes" [tableStyle]="{'min-width': '50rem'}">
                <ng-template pTemplate="header">
                    <tr>
                        <th>Nombre</th>
                        <th>Contacto</th>
                        <th>E-mail</th>
                        <th>País</th>
                        <th>Ciudad</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-cliente>
                    <tr>
                        <td>{{ cliente.nomRefPc }}</td>
                        <td>{{ cliente.contacRefPc }}</td>
                        <td>{{ cliente.emailRefPc }}</td>
                        <td>{{ cliente.paisRefPc }}</td>
                        <td>{{ cliente.ciudadRefPc }}</td>
                    </tr>
                </ng-template>
            </p-table>
        </ng-template>
        <ng-template pTemplate="footer">
            <div class="grid grid-nogutter">
                <div class="col-6">
                    <p-button
                        label="Back"
                        (onClick)="prevPage()"
                        icon="pi pi-angle-left">
                    </p-button>
                </div>
                <div class="col-6 grid grid-nogutter justify-content-end">
                    <p-button
                        label="Next"
                        (onClick)="nextPage()"
                        icon="pi pi-angle-right"
                        iconPos="right">
                    </p-button>
                </div>
            </div>
        </ng-template>
    </p-card>
</div>
